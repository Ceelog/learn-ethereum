# ç¼–è¯‘å®‰è£… go-ethereum

## Go è¯­è¨€å¼€å‘ç¯å¢ƒ

é¦–å…ˆç¡®ä¿æœ¬æœºå·²å®‰è£… Go å¼€å‘ç¯å¢ƒï¼š
```shell
$ go version

go version go1.15 windows/amd64
```

## ä¸‹è½½ go-ethereum æºç 

```
git clone git@github.com:ethereum/go-ethereum.git
```
åˆ‡æ¢åˆ°ç¨³å®šç‰ˆåˆ†æ”¯ï¼š
```
git checkout v1.10.2
```

## ç¼–è¯‘å®‰è£…

è¿›å…¥ä»£ç ç›®å½• `cd go-ethereum` æ‰§è¡Œç¼–è¯‘ï¼š
```
$ make all

env GO111MODULE=on go run build/ci.go install
...
...
```
å¦‚æœæ˜¯ Windows ç¯å¢ƒï¼Œå¯ä»¥åœ¨ http://mingw-w64.org/ ä¸‹è½½å®‰è£… `mingw32-make` ï¼Œç„¶åæ‰§è¡Œç¼–è¯‘ï¼š
```
$ mingw32-make all

env GO111MODULE=on go run build/ci.go install
...
...
```

æˆ–è€…ç›´æ¥æ‰§è¡Œ Go å®‰è£…è„šæœ¬ï¼š
```
go run build/ci.go install
```

>Tips: æœ¬æ–‡å°±æ˜¯åœ¨ Windows 10 ç¯å¢ƒä¸‹å®Œæˆæ¼”ç¤º

ç¼–è¯‘å®Œæˆåï¼Œå¯ä»¥åœ¨æºç çš„ `build/bin` ç›®å½•ä¸‹æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶ï¼š

```
$ cd build/bin/ && ls

abidump.exe  
abigen.exe  
bootnode.exe  
checkpoint-admin.exe  
clef.exe  
devp2p.exe  
ethkey.exe  
evm.exe  
faucet.exe  
geth.exe  
p2psim.exe  
puppeth.exe  
rlpdump.exe
...
```

æŸ¥çœ‹ `geth` ç‰ˆæœ¬ä¿¡æ¯ï¼š
```
$ ./geth.exe version

Geth
Version: 1.10.2-stable
Git Commit: 97d11b0187b4695ccf44e3b71b54155fe405a36f
Architecture: amd64
Go Version: go1.15
Operating System: windows
...
```

æ­å–œï¼æˆ‘ä»¬å·²ç»å®Œæˆäº† `go-ethereum` çš„å®‰è£… 

# ä½¿ç”¨ Clef ç®¡ç† Ethereum è´¦æˆ·

åœ¨ä¸Š part ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† `clef` ç¨‹åºçš„ç¼–è¯‘å®‰è£…ï¼Œ`clef` æ˜¯ `go-ethereum` ä¸“é—¨ç”¨æ¥ç®¡ç†è´¦æˆ·çš„è¾…åŠ©ç¨‹åºï¼Œå¯ä»¥åˆ›å»ºè´¦æˆ·å’Œå®Œæˆç­¾åï¼š

```
$ ./clef.exe h

NAME:
   Clef - Manage Ethereum account operations

   Copyright 2013-2021 The go-ethereum Authors

USAGE:
   clef.exe [options] command [command options] [arguments...]

COMMANDS:
   init                               Initialize the signer, generate secret storage
   attest                             Attest that a js-file is to be used
   setpw                              Store a credential for a keystore file
   delpw                              Remove a credential for a keystore file
   newaccount                         Create a new account
   gendoc                             Generate documentation about json-rpc format
   help, h                            Shows a list of commands or help for one command

FLAGS OPTIONS:
  --loglevel value                    ...
  ...

```

## åˆå§‹åŒ– Clef

åˆå§‹åŒ–è„šæœ¬ä¼šåˆ›å»ºä¸»å¯†é’¥ï¼Œéœ€è¦æä¾› 10 ä½åŠä»¥ä¸Šé•¿åº¦çš„å¯†ç å®ŒæˆåŠ å¯†ï¼š
```
$ ./clef.exe init

...
Enter 'ok' to proceed:
> ok
...

```

## åˆ›å»ºè´¦æˆ·

åˆ›å»ºè´¦æˆ·è¿‡ç¨‹ä¸­ï¼ŒåŒæ ·éœ€è¦æä¾› 10 ä½åŠä»¥ä¸Šé•¿åº¦çš„å¯†ç å®ŒæˆåŠ å¯†ï¼š
```
$ ./clef.exe newaccount

...
Enter 'ok' to proceed:
> ok
...

## New account password

Please enter a password for the new account to be created (attempt 0 of 3)
...
Generated account 0x46e7328724A7...
```

åˆ›å»ºå®Œæˆåï¼Œå¯ä»¥åœ¨é»˜è®¤çš„ keystore ç›®å½•ä¸‹çœ‹åˆ°è´¦æˆ·æ–‡ä»¶ï¼Œä»¥ Windows ç³»ç»Ÿä¸ºä¾‹ï¼š
```
$ ls -la ~/AppData/Local/Ethereum/keystore

UTC--2021-05-07T07-02-47.142238200Z--46e7328724a7...
```

æ–‡ä»¶å†…å®¹ç¤ºä¾‹ï¼š
```
{
  "address": "46e7328724a7...",
  "crypto": {
    ...
  },
  "id": "...",
  "version": 3
}
```

> Tips: å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•åˆ›å»ºå¤šä¸ªè´¦æˆ·ï¼Œä¸‹æ–‡é…ç½®åˆ›ä¸–åŒºå—çš„æ—¶å€™å¯ä»¥ç»™è¿™äº›è´¦æˆ·é¢„åˆ†é…ä½™é¢

# Ethereum èŠ‚ç‚¹

ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘ä»¬å°†å¯åŠ¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æœ¬åœ°ç§æœ‰ Ethereum ç½‘ç»œ

## åˆ›ä¸–åŒºå—

åˆ›ä¸–åŒºå—é…ç½® `genesis.json`ï¼Œå…¶ä¸­ `alloc` é…ç½®é¡¹å¯ä»¥è®¾ç½®é¢„åˆ†é…è´¦æˆ·ä½™é¢ï¼Œå»ºè®®ä½¿ç”¨ä¸Š part `clef` åˆ›å»ºçš„è´¦æˆ·ï¼ŒèŠ‚ç‚¹å¯åŠ¨åè¿™äº›è´¦æˆ·ä¸Šå°±ä¼šæœ‰ 10080 ä¸ª ETH ä½™é¢ï¼Œæ–¹ä¾¿å¼€å‘è°ƒè¯•:

```
{
  "config": {
    "chainId": 1337, // ä¸€èˆ¬çº¦å®šæœ¬åœ°ç§æœ‰ç½‘ç»œ chianid = 1337
    "homesteadBlock": 0, // homesteadBlock åŒºå—é«˜åº¦ï¼Œç§æœ‰ç½‘ç»œåªéœ€ != nil å³å¯ï¼Œä¾‹å¦‚ï¼š0
    "eip150Block": 0, // åŒä¸Š
    "eip155Block": 0, // åŒä¸Š
    "eip158Block": 0, // åŒä¸Š
    "byzantiumBlock": 0, // åŒä¸Š
    "constantinopleBlock": 0, // åŒä¸Š
    "petersburgBlock": 0, // åŒä¸Š
    "istanbulBlock":0, // åŒä¸Š
    "muirGlacierBlock":0, // åŒä¸Š
    "berlinBlock":0 // åŒä¸Š
    // æ³¨æ„ï¼šå¦‚æœé˜…è¯»æ­¤æ–‡æ—¶æœ‰æ›´å¤šçš„åˆ†å‰åŒºå—ï¼Œéƒ½éœ€è¦é…ç½®ä¸Šï¼Œä¸åŒåŒºå—é«˜åº¦åçš„éªŒè¯ç­¾åç®—æ³•å¯èƒ½ä¸ä¸€æ ·
    // å¦‚æœäº¤æ˜“å‘é€æ–¹ä½¿ç”¨äº† berlinBlock ä¹‹åæ–°çš„ç­¾åç®—æ³•ï¼ŒèŠ‚ç‚¹æ— æ³•éªŒè¯çš„è¯ä¼šæŠ¥é”™ï¼šinvalid sender
  },
  "alloc": {
	  "248672bac919...":{"balance":"10080000000000000000000"}, // æ³¨æ„å•ä½ 1 eth = 10^18 wei
	  "46e7328724a7...":{"balance":"10080000000000000000000"}
  },
  "nonce": "0x0000000000000042",
  "difficulty": "0x020000",
  "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "coinbase": "0x0000000000000000000000000000000000000000",
  "timestamp": "0x00",
  "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "extraData": "0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",
  "gasLimit": "0x4c4b40"
}
```

åˆå§‹åŒ–åˆ›ä¸–åŒºå—ï¼š

```
$ ./geth.exe init ~/AppData/Local/Ethereum/genesis.json

INFO [05-07|15:39:59.549] Maximum peer count                       ETH=50 LES=0 total=50
INFO [05-07|15:39:59.574] Set global gas cap                       cap=25000000
...
INFO [05-07|15:39:59.623] Successfully wrote genesis state         database=lightchaindata hash="dcc595â€¦7102aa"
```

## å¯åŠ¨èŠ‚ç‚¹

æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼š

```
$ ./geth.exe --nodiscover

INFO [05-07|15:45:11.014] Starting Geth on Ethereum mainnet...
...
INFO [05-07|15:45:11.401] Started P2P networking                   self="enode://eda1a8e2d4d...@127.0.0.1:30303?discpo
rt=0"
...
```

é€‰é¡¹è¯´æ˜ï¼š

> --nodiscover  // å…³é—­ p2p ç½‘ç»œèŠ‚ç‚¹å‘ç°ï¼Œç¡®ä¿ä¸åŠ å…¥ä»»ä½•å…¶ä»–ç½‘ç»œ
>

## è¿æ¥èŠ‚ç‚¹

èŠ‚ç‚¹å¯åŠ¨æ—¶ä¼šé»˜è®¤å¼€å¯ ipc è¿›ç¨‹é—´é€šä¿¡ç®¡é“ï¼Œä¹Ÿå¯ä»¥ä¸»åŠ¨å¼€å¯æ”¯æŒ http æˆ– WebSocket åè®®çš„ rpc è¿œç¨‹è°ƒç”¨æœåŠ¡

é€šè¿‡ ipc æœåŠ¡ æˆ–è€… rpc æ¥å£ï¼ŒèŠ‚ç‚¹å¯ä»¥æ‰§è¡Œå¤–éƒ¨ç”¨æˆ·æä¾›çš„ç®¡ç†ã€æŸ¥è¯¢ã€äº¤æ˜“ç­‰æŒ‡ä»¤

è¿™é‡Œæˆ‘ä»¬å…ˆä½¿ç”¨ ipc è¿æ¥å·²å¯åŠ¨çš„èŠ‚ç‚¹

æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¿›å…¥ Geth JavaScript æ§åˆ¶å°ï¼š

```
$ ./geth.exe attach \\.\pipe\geth.ipc

Welcome to the Geth JavaScript console!

instance: Geth/v1.10.2-stable-97d11b01/windows-amd64/go1.15
coinbase: 0x61d55d8015aa...
...
modules: admin:1.0 debug:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

To exit, press ctrl-d
>

```

## è§£é”è´¦æˆ·

æ¯æ¬¡å‘é€äº¤æ˜“ä¹‹å‰ï¼Œå‘é€æ–¹éœ€è¦ä½¿ç”¨å¯†é’¥å®Œæˆç­¾å

ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨å¯†ç æå‰è§£é”äº¤æ˜“å‘é€æ–¹è´¦æˆ·ï¼Œä¹‹åå†å‘é€äº¤æ˜“çš„è¯ `geth` ä¼šè‡ªåŠ¨ä½¿ç”¨å¯†é’¥å¯¹äº¤æ˜“æ•°æ®ç­¾å

```
> personal.unlockAccount("46e7328724a7...","012...",36000)

// å‚æ•°ï¼šè´¦æˆ·åœ°å€ï¼Œè´¦æˆ·å¯†ç ï¼Œè§£é”æœ‰æ•ˆæ—¶é•¿(å•ä½ ç§’)

// è§£é”æˆåŠŸ
true
```


# è½¬è´¦äº¤æ˜“

æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ‰§è¡Œäº¤æ˜“ç›¸å…³çš„æŒ‡ä»¤ï¼Œçœ‹çœ‹ Ethereum æ˜¯å¦‚ä½•å¤„ç†äº¤æ˜“çš„

## æŸ¥è¯¢ä½™é¢

è¾“å…¥æŸ¥è¯¢ä½™é¢æŒ‡ä»¤ï¼š
```
> eth.getBalance("46e7328724a...")

// æŸ¥è¯¢ç»“æœ æ³¨æ„å•ä½ä¸º wei ï¼ˆ1 eth = 10^18 weiï¼‰
1.008e+22
```

ä½¿ç”¨åˆ›ä¸–åŒºå—é¢„åˆ†é…çš„è´¦æˆ·ä½œä¸ºæŸ¥è¯¢å‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°ä½™é¢ç¡®å®ä¸ºé¢„åˆ†é…çš„æ•°é¢

ä¹Ÿå¯ä»¥è½¬æ¢ä¸º `ether` å•ä½ï¼š

```
> web3.fromWei(eth.getBalance("46e7328724a..."),"ether")

// æŸ¥è¯¢ç»“æœ å•ä½ä¸º eth
10080
```

## è½¬è´¦

è¾“å…¥è½¬è´¦æŒ‡ä»¤ï¼š

```
// è½¬å‡º 10 eth

> eth.sendTransaction({from:"46e7328724a7...",to:"248672bac9196446...", value: web3.toWei(10,"ether")})

// è¿”å›ç»“æœï¼šäº¤æ˜“ hash

"0x25d0909d7fa61be3449c9c9f6c..."
```

> æ³¨æ„ï¼š
>
> è™½ç„¶æˆåŠŸæäº¤äº†äº¤æ˜“ï¼Œä½†æ˜¯èŠ‚ç‚¹æ²¡æœ‰å¼€å¯æŒ–çŸ¿ï¼Œæ‰€ä»¥ä¸ä¼šæ‰“åŒ…äº¤æ˜“äº§å‡ºæ–°çš„åŒºå—
>
> äº¤æ˜“è¿˜åœ¨äº¤æ˜“æ± ç­‰å¾…æ‰“åŒ…

æŸ¥çœ‹äº¤æ˜“æ± çŠ¶æ€ï¼š

```
> txpool.status
{
  pending: 1,
  queued: 0
}
```

## å¯åŠ¨æŒ–çŸ¿

```
> miner.start(1)

// å‚æ•°è¡¨ç¤ºå¯åŠ¨ 1 ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå¯ä»¥ 2/3/...
```
å¯ä»¥åœ¨ `geth` ç»ˆç«¯çœ‹åˆ°å‡ºå—æ—¥å¿—ï¼š

```
INFO [05-07|17:45:18.367] Updated mining threads                   threads=1
INFO [05-07|17:45:18.367] Transaction pool price threshold updated price=1000000000
INFO [05-07|17:56:05.031] Etherbase automatically configured       address=0x61d55D8015Aa018Ea87f2D4F2A1Ee8Af1912a887
INFO [05-07|17:56:05.032] Commit new mining work                   number=1 sealhash="a29c2eâ€¦a33157" uncles=0 txs=0 gas=0 fees=0 elapsed=0s
INFO [05-07|17:56:05.033] Commit new mining work                   number=1 sealhash="a068c9â€¦e980b4" uncles=0 txs=1 gas=21000 fees=2.1e-05 elapsed=1.009ms
INFO [05-07|17:56:12.566] Successfully sealed new block            number=1 sealhash="a068c9â€¦e980b4" hash="cf056dâ€¦8cf707" elapsed=7.533s
INFO [05-07|17:56:12.566] ğŸ”¨ mined potential block                number=1 hash="cf056dâ€¦8cf707"
...
```
## æš‚åœæŒ–çŸ¿

```
> miner.stop()

// æŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼š

> eth.getBalance("248672bac91964465...")
1.009e+22 // æ¥æ”¶æ–¹ï¼š + 10 eth

> eth.getBalance("46e7328724a7b9...")
1.0069999979e+22 // å‘é€æ–¹ï¼š - 10 eth - è½¬è´¦è´¹(gas * gasPrice)

> eth.getBalance("0x61d55D8015Aa01...")
1.0190000021e+22 // çŸ¿å·¥ï¼š + å‡ºå—å¥–åŠ±(reward * blockNum) + è½¬è´¦è´¹(gas * gasPrice)

```

æŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼Œå¯ä»¥ç¡®è®¤è½¬è´¦æˆåŠŸ

# æ™ºèƒ½åˆçº¦

ä»¥å¤ªåŠä¸Šåˆ›å»ºå’Œæ‰§è¡Œåˆçº¦åŒæ ·æ˜¯é€šè¿‡å‘é€äº¤æ˜“çš„æ–¹å¼ï¼Œåªä¸è¿‡äº¤æ˜“æºå¸¦çš„æ•°æ®å¤šäº†åˆçº¦å­—èŠ‚ç æˆ–è€…è°ƒç”¨æ–¹æ³•ç­‰ä¿¡æ¯

## ç¼–å†™åˆçº¦

å¯ä»¥ä½¿ç”¨ä»»ä½•é«˜çº§è¯­è¨€æ¥ç¼–å†™æ™ºèƒ½åˆçº¦ï¼Œåªè¦åœ¨éƒ¨ç½²çš„æ—¶å€™ç¼–è¯‘ä¸ºä»¥å¤ªåŠè™šæ‹Ÿæœº EVM å¯ä»¥æ‰§è¡Œçš„å­—èŠ‚ç å³å¯

ä½¿ç”¨ Solidity (https://soliditylang.org/) è¯­è¨€ç¼–å†™çš„æ™ºèƒ½åˆçº¦ç¤ºä¾‹ï¼š

```js
// SPDX-License-Identifier: CC-BY-SA-4.0

// Version of Solidity compiler this program was written for
pragma solidity ^0.6.0;

// Our first contract is a faucet!
contract Faucet {
    // Accept any incoming amount
    receive () external payable {}
    
    // Give out ether to anyone who asks
    function withdraw(uint withdraw_amount) public {

        // Limit withdrawal amount
        require(withdraw_amount <= 100000000000000000);

        // Send the amount to the address that requested it
        msg.sender.transfer(withdraw_amount);
    }
}
```

> Tips: ä½¿ç”¨åœ¨çº¿ IDE https://remix.ethereum.org/ æ–¹ä¾¿å¼€å‘è°ƒè¯•æ™ºèƒ½åˆçº¦

åœ¨ remix ä¸Šå°†åˆçº¦ç¼–è¯‘ç”Ÿæˆå­—èŠ‚ç ï¼š

```
{
  "linkReferences": {},
  "object": "608060405234801561001057600080fd5b5060f48061001f6000396000f3fe608060405260043610601f5760003560e01c80632e1a7d4d14602a576025565b36602557005b600080fd5b348015603557600080fd5b50605f60048036036020811015604a57600080fd5b81019080803590602001909291905050506061565b005b67016345785d8a0000811115607557600080fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801560ba573d6000803e3d6000fd5b505056fea26469706673582212207a2c9ed47daa046769d1020e307564fedff522d6340096ab14fa5829bd5f230764736f6c634300060c0033",
  "opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0xF4 DUP1 PUSH2 0x1F PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT PUSH1 0x1F JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x2E1A7D4D EQ PUSH1 0x2A JUMPI PUSH1 0x25 JUMP JUMPDEST CALLDATASIZE PUSH1 0x25 JUMPI STOP JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE DUP1 ISZERO PUSH1 0x35 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x5F PUSH1 0x4 DUP1 CALLDATASIZE SUB PUSH1 0x20 DUP2 LT ISZERO PUSH1 0x4A JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 ADD SWAP1 DUP1 DUP1 CALLDATALOAD SWAP1 PUSH1 0x20 ADD SWAP1 SWAP3 SWAP2 SWAP1 POP POP POP PUSH1 0x61 JUMP JUMPDEST STOP JUMPDEST PUSH8 0x16345785D8A0000 DUP2 GT ISZERO PUSH1 0x75 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLER PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND PUSH2 0x8FC DUP3 SWAP1 DUP2 ISZERO MUL SWAP1 PUSH1 0x40 MLOAD PUSH1 0x0 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP6 DUP9 DUP9 CALL SWAP4 POP POP POP POP ISZERO DUP1 ISZERO PUSH1 0xBA JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 PUSH27 0x2C9ED47DAA046769D1020E307564FEDFF522D6340096AB14FA5829 0xBD 0x5F 0x23 SMOD PUSH5 0x736F6C6343 STOP MOD 0xC STOP CALLER ",
  "sourceMap": "169:405:0:-:0;;;;;;;;;;;;;;;;;;;"
}
```

å…¶ä¸­ï¼Œ`object` å­—æ®µå°±æ˜¯äº¤æ˜“æºå¸¦çš„å­—èŠ‚ç æ•°æ®

## éƒ¨ç½²åˆçº¦

éƒ¨ç½²åˆçº¦å’Œè½¬è´¦äº¤æ˜“æ–¹æ³•ä¸€æ ·ï¼Œä½†å‚æ•°åªéœ€ `from` å’Œ `data`
```
> eth.sendTransaction({from:"46e7328724a7...",data:"0x608060405234801561001057600080fd5b5060f48061001f6000396000f3fe608060405260043610601f5760003560e01c80632e1a7d4d14602a576025565b36602557005b600080fd5b348015603557600080fd5b50605f60048036036020811015604a57600080fd5b81019080803590602001909291905050506061565b005b67016345785d8a0000811115607557600080fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801560ba573d6000803e3d6000fd5b505056fea26469706673582212207a2c9ed47daa046769d1020e307564fedff522d6340096ab14fa5829bd5f230764736f6c634300060c0033"})

// äº¤æ˜“ hash
"0x5a90c06d0af12b921fa62efddfe3376b07c1ab0b820b3626016c5ead959d42a1"

// å‚æ•°ï¼š
// from äº¤æ˜“å‘é€æ–¹è´¦æˆ·åœ°å€
// data ä¸Š part ç¼–è¯‘ç”Ÿæˆçš„å­—èŠ‚ç ï¼Œæ³¨æ„ï¼šé™„åŠ äº† 0x å¼€å¤´ï¼Œè¡¨ç¤º 16 è¿›åˆ¶æ•°æ®
```

## è°ƒç”¨åˆçº¦

è°ƒç”¨åˆçº¦å’Œè½¬è´¦äº¤æ˜“æ–¹æ³•ä¸€æ ·ï¼Œä½†å‚æ•°åªéœ€ `from` `to`å’Œ `data`
```
> eth.sendTransaction({from:"46e7328724a...",to:"37F5A36e1...",data:"0x2e1a7d4d00000000000000000000000000000000000000000000000000000000000186a0"})

// å‚æ•°ï¼š
// from äº¤æ˜“å‘é€æ–¹è´¦æˆ·åœ°å€
// to åˆçº¦åœ°å€
// data åˆçº¦è°ƒç”¨ä¿¡æ¯çš„ abi ç¼–ç ï¼Œæ³¨æ„ï¼šé™„åŠ äº† 0x å¼€å¤´ï¼Œè¡¨ç¤º 16 è¿›åˆ¶æ•°æ®
```

å¯ä»¥ä½¿ç”¨ `abidump` è§£ç æŸ¥çœ‹ abi ä¿¡æ¯ï¼š

```
$ ./abidump.exe 0x2e1a7d4d00000000000000000000000000000000000000000000000000000000000186a0

Info: Transaction invokes the following method: "withdraw(uint256: 100000)"
```

# å°ç»“

é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä»¥å¤ªåŠæœ¬åœ°å¼€å‘ç¯å¢ƒçš„æ­å»ºï¼Œäº†è§£äº†åˆ›å»ºè´¦æˆ·ã€è½¬è´¦äº¤æ˜“ã€éƒ¨ç½²å’Œè°ƒç”¨åˆçº¦çš„åŸºæœ¬è¿‡ç¨‹

æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥ä»£ç ç»†èŠ‚ï¼Œçœ‹çœ‹è¿™äº›æŒ‡ä»¤æ˜¯å¦‚ä½•å…·ä½“æ‰§è¡Œçš„

## å‚è€ƒå†…å®¹

- https://eth.wiki/
- https://geth.ethereum.org/docs/
- https://docs.soliditylang.org/en/v0.8.4/
- https://web3js.readthedocs.io/en/v1.2.11/index.html
- https://documenter.getpostman.com/view/4117254/ethereum-json-rpc/RVu7CT5J?version=latest#150dbf79-b762-e585-c345-fc666da5e354
